<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>DSQMKryST: EnvironmentNC Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DSQMKryST
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classEnvironmentNC-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">EnvironmentNC Class Reference<div class="ingroups"><a class="el" href="group__NodeComm.html">NodeComm</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Initializes the MPI, PETSc and SLEPc environments.  
 <a href="classEnvironmentNC.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="NodeComm_2src_2Environment_2Environment_8h_source.html">Environment.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adb6205b505895f7c0cbcd8de3b314f87"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnvironmentNC.html#adb6205b505895f7c0cbcd8de3b314f87">EnvironmentNC</a> (int argc, char **argv, unsigned int <a class="el" href="classEnvironmentNC.html#afeae7fe43683e0b55e5b04b431e8e273">l</a>, unsigned int <a class="el" href="classEnvironmentNC.html#ae251449701fdfd3bb68e46d0b700b370">n</a>)</td></tr>
<tr class="memdesc:adb6205b505895f7c0cbcd8de3b314f87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an instance of class Environment.  <a href="#adb6205b505895f7c0cbcd8de3b314f87">More...</a><br/></td></tr>
<tr class="separator:adb6205b505895f7c0cbcd8de3b314f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b5c53a5f487376c159fd8982f32f02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnvironmentNC.html#a29b5c53a5f487376c159fd8982f32f02">~EnvironmentNC</a> ()</td></tr>
<tr class="memdesc:a29b5c53a5f487376c159fd8982f32f02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a29b5c53a5f487376c159fd8982f32f02">More...</a><br/></td></tr>
<tr class="separator:a29b5c53a5f487376c159fd8982f32f02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aba5a651510fdcdd3f0f28c06a81cf4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8aba5a651510fdcdd3f0f28c06a81cf4"></a>
LLInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnvironmentNC.html#a8aba5a651510fdcdd3f0f28c06a81cf4">basis_size</a> () const </td></tr>
<tr class="memdesc:a8aba5a651510fdcdd3f0f28c06a81cf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the dimension of the Hilbert space. <br/></td></tr>
<tr class="separator:a8aba5a651510fdcdd3f0f28c06a81cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5c4a91ce1c6d7f3532ca48e9c70b8e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnvironmentNC.html#ae5c4a91ce1c6d7f3532ca48e9c70b8e2">distribution</a> (PetscInt b_size, PetscInt &amp;nlocal, PetscInt &amp;start, PetscInt &amp;end) const </td></tr>
<tr class="memdesc:ae5c4a91ce1c6d7f3532ca48e9c70b8e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the section and global indices of locally owned elements.  <a href="#ae5c4a91ce1c6d7f3532ca48e9c70b8e2">More...</a><br/></td></tr>
<tr class="separator:ae5c4a91ce1c6d7f3532ca48e9c70b8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:afeae7fe43683e0b55e5b04b431e8e273"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afeae7fe43683e0b55e5b04b431e8e273"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnvironmentNC.html#afeae7fe43683e0b55e5b04b431e8e273">l</a></td></tr>
<tr class="memdesc:afeae7fe43683e0b55e5b04b431e8e273"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of sites. <br/></td></tr>
<tr class="separator:afeae7fe43683e0b55e5b04b431e8e273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae251449701fdfd3bb68e46d0b700b370"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae251449701fdfd3bb68e46d0b700b370"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnvironmentNC.html#ae251449701fdfd3bb68e46d0b700b370">n</a></td></tr>
<tr class="memdesc:ae251449701fdfd3bb68e46d0b700b370"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subspace descriptor (number of particles). <br/></td></tr>
<tr class="separator:ae251449701fdfd3bb68e46d0b700b370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afca77432cc1f1c82bda4c3a107dab388"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afca77432cc1f1c82bda4c3a107dab388"></a>
PetscMPIInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnvironmentNC.html#afca77432cc1f1c82bda4c3a107dab388">mpirank</a></td></tr>
<tr class="memdesc:afca77432cc1f1c82bda4c3a107dab388"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index of the local processor. <br/></td></tr>
<tr class="separator:afca77432cc1f1c82bda4c3a107dab388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4ade4dde34c04dd3228fdaf44abc55c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab4ade4dde34c04dd3228fdaf44abc55c"></a>
PetscMPIInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnvironmentNC.html#ab4ade4dde34c04dd3228fdaf44abc55c">mpisize</a></td></tr>
<tr class="memdesc:ab4ade4dde34c04dd3228fdaf44abc55c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of processors. <br/></td></tr>
<tr class="separator:ab4ade4dde34c04dd3228fdaf44abc55c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69892c10aaa754faebd0e4ce274eb472"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a69892c10aaa754faebd0e4ce274eb472"></a>
PetscMPIInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnvironmentNC.html#a69892c10aaa754faebd0e4ce274eb472">node_rank</a></td></tr>
<tr class="memdesc:a69892c10aaa754faebd0e4ce274eb472"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rank respective to the node. <br/></td></tr>
<tr class="separator:a69892c10aaa754faebd0e4ce274eb472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae435f9ac5dd61f647ea68dc6d4749a08"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae435f9ac5dd61f647ea68dc6d4749a08"></a>
PetscMPIInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnvironmentNC.html#ae435f9ac5dd61f647ea68dc6d4749a08">node_size</a></td></tr>
<tr class="memdesc:ae435f9ac5dd61f647ea68dc6d4749a08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of processes per node. <br/></td></tr>
<tr class="separator:ae435f9ac5dd61f647ea68dc6d4749a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba26dbd919a65150f3875f262251714b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba26dbd919a65150f3875f262251714b"></a>
MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEnvironmentNC.html#aba26dbd919a65150f3875f262251714b">node_comm</a></td></tr>
<tr class="memdesc:aba26dbd919a65150f3875f262251714b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MPI communicator respective of the node. <br/></td></tr>
<tr class="separator:aba26dbd919a65150f3875f262251714b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Initializes the MPI, PETSc and SLEPc environments. </p>
<p>This class should be instantiated at the beginning of the program and at the end of execution the environment will close automatically Refer to Section 3 of the manuscript in /docs. For the particular case of the Node communication approach, the basis elements are fully distributed among all available processing elements, with the exception of the first process of each computational node; which allocates, computes and holds all the elements of the basis. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="adb6205b505895f7c0cbcd8de3b314f87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EnvironmentNC::EnvironmentNC </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an instance of class Environment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Required to parse PETSc/SLEPc's options. </td></tr>
    <tr><td class="paramname">argv</td><td>Required to parse PETSc/SLEPc's options. </td></tr>
    <tr><td class="paramname">l</td><td>Number of sites. </td></tr>
    <tr><td class="paramname">n</td><td>Subspace descriptor (number of particles).</td></tr>
  </table>
  </dd>
</dl>
<p>This is the only available constructor of this class. This constructor is used to initialise PETSc, SLEPc and MPI environments and should be instantiated at the beginning of the program. </p>

</div>
</div>
<a class="anchor" id="a29b5c53a5f487376c159fd8982f32f02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EnvironmentNC::~EnvironmentNC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>Closes the MPI, PETSc and SLEPc environment. Destroys the node communicator. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae5c4a91ce1c6d7f3532ca48e9c70b8e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EnvironmentNC::distribution </td>
          <td>(</td>
          <td class="paramtype">PetscInt&#160;</td>
          <td class="paramname"><em>b_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscInt &amp;&#160;</td>
          <td class="paramname"><em>nlocal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscInt &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PetscInt &amp;&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the section and global indices of locally owned elements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b_size</td><td>Dimension of the Hilbert space. </td></tr>
    <tr><td class="paramname">nlocal</td><td>Local section of the process (amount of elements/number of rows). </td></tr>
    <tr><td class="paramname">start</td><td>Global index refering to the local process. </td></tr>
    <tr><td class="paramname">end</td><td>Global index refering to the local process.</td></tr>
  </table>
  </dd>
</dl>
<p>This parallel distribution agrees with PETSc's row-wise distribution Refer to Algorithm 1 of the manuscript in /docs. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/marconi/home/userexternal/mbrenes0/DSQMKryST/NodeComm/src/Environment/<a class="el" href="NodeComm_2src_2Environment_2Environment_8h_source.html">Environment.h</a></li>
<li>/marconi/home/userexternal/mbrenes0/DSQMKryST/NodeComm/src/Environment/Environment.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
